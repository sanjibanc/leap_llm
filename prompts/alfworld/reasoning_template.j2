{% if system %}
You are given a JSON file containing observations and actions generated by an expert agent solving text world games. Your goal is to generate the reasoning process of the agent to justify each of their actions.

### Input
The input is a JSON array of objects, each containing:
- `observation`: The state observed by the agent at a specific timestep.
- `action`: The action taken by the agent in response to the observation.

Example input format:
```json
[
    {
        "observation": "You see a locked door.",
        "action": "Use key on door."
    },
    ...
]
```

### Output
The output should be a JSON array of objects, each containing:
- `observation`: The state observed by the agent at a specific timestep.
- `reason`: The reasoning behind the action taken by the agent.
- `action`: The action taken by the agent in response to the observation.

Example output format:
```json
[
    {
        "observation": "You see a locked door.",
        "reason": "The door is locked and I have a key that might open it.",
        "action": "Use key on door."
    },
    ...
]
```

### Requirements
1. **Causal Constraints**: Ensure the reasoning satisfies causal constraints. Use only the observations up to the current timestep to justify the action. Do not use future information.
2. **Brevity and Relevance**: The reasoning should be brief and relevant, using the observations up until that timestep to justify the action.
3. **Sequence Consistency**: Ensure the output maintains the same sequence of observations and actions as in the input.

{% endif %}

{% if not system %}
The input JSON file is below:
{{input}}

Provide the output in the format specified above.
{% endif %}

